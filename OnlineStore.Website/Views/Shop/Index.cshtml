@model string
@{
    ViewBag.Title = "فروشگاه";
}

<div class="contianer-fluid shopMenu">
    <div class="row">
        <div class="responsive-box main-header">
            <div class="search-box">
                @Html.Partial("/Views/Layouts/_SimpleSearch.cshtml")

            </div>
            <div class="float-left">
                <div class="support">

                    <a href="/Support">
                        <i class="icon"><i class="fa fa-question-circle"></i></i>
                        <div class="arrow">
                            <i class="fa fa-chevron-down"></i>
                        </div>
                        <p>
                            راهنمای مشتریان
                            @*<span>پاسخ سوالات شما</span>*@
                        </p>
                    </a>
                    <div class="content-box">
                        <div class="content">
                            <p>راهنمای مشتریان:</p>
                            <span>
                                <a href="tel:+985138407540" target="_blank">051 35412680</a>
                            </span>
                            <p>تماس سریع در تلگرام:</p>
                            <span>
                                <a href="https://telegram.me/OnlineStore" target="_blank">@@behbudgostar</a>
                            </span>
                            <ul>
                                <li>
                                    <a href="/TrackOrder"><i class="fa fa-angle-left"></i>پیگیری سفارش</a>
                                </li>
                                <li>
                                    <a href="/Payment-Methods"><i class="fa fa-angle-left"></i>شیوه های پرداخت</a>
                                </li>
                                <li>
                                    <a href="/Shipping-Methods"><i class="fa fa-angle-left"></i>نحوه حمل و تحویل کالا</a>
                                </li>
                                <li>
                                    <a href="/Shipping-Cost"><i class="fa fa-angle-left"></i>نحوه محاسبه هزینه ی ارسال</a>
                                </li>
                                <li>
                                    <a href="/Guarantee-Of-Origin"><i class="fa fa-angle-left"></i>ضمانت تطابق کالا با سایت</a>
                                </li>
                                <li>
                                    <a href="/Return-Product"><i class="fa fa-angle-left"></i>امکان بازگرداندن کالا تا 10 روز</a>
                                </li>
                                <li>
                                    <a href="/Privacy-Policy"><i class="fa fa-angle-left"></i>سیاست حفظ حریم خصوصی</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="account">
                    <a href="/Login?ReturnUrl=@HttpUtility.UrlEncode(Request.RawUrl)">
                        <i class="icon"><i class="fa fa-user"></i></i>
                        <div class="arrow">
                            <i class="fa fa-chevron-down"></i>
                        </div>
                        <p>
                            حساب کاربری
                            @*<span>ورود و ثبت نام</span>*@
                        </p>
                    </a>
                    <div class="content-box">
                        <div class="content">
                            <div class="profile@(User.Identity.IsAuthenticated ? " authenticated" : String.Empty)">
                                <div class="profile-image">
                                    <i class="fa fa-user"></i>
                                </div>
                                @if (!User.Identity.IsAuthenticated)
                                {
                                    <a class="btn-login" href="/Login?ReturnUrl=@HttpUtility.UrlEncode(Request.RawUrl)">ورود</a>
                                    <p>
                                        کاربر جدید هستید؟
                                        <a href="/Register">ثبت نام</a>
                                    </p>
                                }
                                else
                                {
                                    var user = OSUsers.GetByID(User.Identity.GetUserId());
                                    <p>
                                        @(user.Firstname + " " + user.Lastname)
                                    </p>
                                    <a class="btn-logout" href="/My-Account/My-Profile">پروفایل کاربر</a>
                                }
                            </div>
                            <div class="user-pages">
                                <p>
                                    @if (!User.Identity.IsAuthenticated)
                                    {
                                        <span>میهمان عزیز</span>
                                    }
                                    else
                                    {
                                        <span>@(User.Identity.GetUserName()) عزیز</span>
                                    }
                                    ، خوش آمدید.
                                </p>
                                <ul>
                                    @*<li><a href="/My-Account/My-Profile"><i class="fa fa-angle-left"></i>پروفایل کاربر</a></li>*@
                                    <li><a href="/My-Account/My-Wishes"><i class="fa fa-angle-left"></i>آرزوهای من</a></li>
                                    <li><a href="/My-Account/My-Orders"><i class="fa fa-angle-left"></i>سفارشات</a></li>
                                    <li><a href="/TrackOrder"><i class="fa fa-angle-left"></i>پیگیری سفارش</a></li>
                                    <li><a href="/Logout"><i class="fa fa-angle-left"></i>خروج</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                @Html.Partial("_MiniCart")
                <div class="clear"></div>
            </div>
        </div>
    </div>
</div>
<div class="responsive-box">
    <div class="row">
        @Html.Partial("/Views/Layouts/_MegaMenu.cshtml")
        <div class="small-box latest-products col-12">
            <section>
                <div class="box-header box-header-02" style="background-color:#ef5661;font-weight:bold;font-size:14px;color:#f3eced">
                    <h1 style="color:#f3eced"><i class="fa fa-caret-left" aria-hidden="true"></i>  آخرین محصولات</h1>
                    <div class="box-control">
                        <a href="#" class="btn-next">
                            <i class="fa fa-angle-left"></i>
                        </a>
                        <a href="#" class="btn-prev">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    </div>
                </div>
                <div class="box-content">
                    @Html.Partial("_LatestProducts", Model.LatestProducts)


                </div>
            </section>
        </div>

        @foreach (var g in Model.Groups)
        {
            if (Model.GetAllProducts.Count(p => p.GroupID == g.GroupId) != 0)
            {
                <div class="small-box latest-products col-12">
                    <section>
                        <div class="box-header box-header-02" style="background-color:#ef5661;font-weight:bold;font-size:14px;color:#f3eced">
                            <h1 style="color:#f3eced"><i class="fa fa-caret-left" aria-hidden="true"></i>  @g.Title</h1>
                            <div class="box-control">
                                <a href="#" class="btn-next">
                                    <i class="fa fa-angle-left"></i>
                                </a>
                                <a href="#" class="btn-prev">
                                    <i class="fa fa-angle-right"></i>
                                </a>
                            </div>
                        </div>
                        <div class="box-content">
                            @Html.Partial("_LatestProducts", Model.GetAllProducts.Where(p => p.GroupID == g.GroupId).ToList())

                        </div>
                    </section>
                </div>
            }
        }

        @*@foreach (var g in Model.Producers)
            {
                <div class="small-box latest-products">
                    <section>
                        <div class="box-header box-header-02">
                            <h1>@g</h1>
                            <div class="box-control">
                                <a href="#" class="btn-next">
                                    <i class="fa fa-angle-left"></i>
                                </a>
                                <a href="#" class="btn-prev">
                                    <i class="fa fa-angle-right"></i>
                                </a>
                            </div>
                        </div>
                        <div class="box-content">
                            @Html.Partial("_LatestProducts", Model.LatestProducts)
                        </div>
                    </section>
                </div>
            }*@
        <div class="right-column" style="visibility:hidden;display:none">
            <div class="small-box reg-logo">
                <a referrerpolicy="origin" target="_blank" href="https://trustseal.enamad.ir/?id=231401&amp;Code=M91bvRGOs0xGdemyvrfh"><img referrerpolicy="origin" src="https://Trustseal.eNamad.ir/logo.aspx?id=231401&amp;Code=M91bvRGOs0xGdemyvrfh" alt="" style="cursor:pointer" id="M91bvRGOs0xGdemyvrfh"></a>
            </div>
            <div class="small-box latest-posts">
                <section>
                    <div class="box-header box-header-02">
                        <h1>آخرین اخبار</h1>
                        <div class="box-control">
                            <a href="#" class="btn-next">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a href="#" class="btn-prev">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="box-content">
                        @Html.Partial("/Areas/Blog/Views/Shared/_LatestPosts.cshtml", Model.LatestNews)
                    </div>
                </section>
            </div>
            <div class="small-box right-ads">
                <section>
                    <div class="box-header box-header-02">
                        <h1>تبلیغات</h1>
                    </div>
                    <div class="box-content">
                        @if (bnr2 != null)
                        {
                            <a href="@UrlProvider.GetBannerUrl(bnr2.Key)" target="_blank">
                                <img src="@(UrlProvider.GetBannerImage(bnr2.Filename))" alt="@bnr2.Title" title="@bnr2.Title">
                            </a>
                        }
                    </div>
                </section>
            </div>
            <div class="small-box user-voice" style="visibility:hidden;display:none">
                <section>
                    <div class="box-header box-header-02">
                        <a href="#" class="btn-next">
                            <i class="fa fa-angle-left"></i>
                        </a>
                        <a href="#" class="btn-prev">
                            <i class="fa fa-angle-right"></i>
                        </a>
                        <h1>نظر و ایده</h1>
                    </div>
                    <div class="box-content">
                        <div class="quote"><i class="fa fa-quote-left"></i></div>
                        <ul class="simple-carousel">
                            @foreach (var item in Model.CustomerComments)
                            {
                                <li>
                                    <p>
                                        @item.Text
                                    </p>
                                    <div class="user-desc-box">
                                        <img src="@(UrlProvider.GetCustomerImage(item.Image, StaticValues.CustomerImageSize))" alt="@item.UserName" />
                                        <div class="user-desc">
                                            <h2>@item.UserName</h2>
                                            <span class="user-type">@item.Title</span>
                                            <span class="user-date">@item.PersianDateTime</span>
                                        </div>
                                    </div>
                                </li>
                            }
                        </ul>
                    </div>
                </section>
            </div>
            <div class="clear"></div>
        </div>
        <div class="content-column" style="visibility:hidden;display:none">
            <div class="row" style="visibility:hidden;display:none">
                <div class="offer-box">
                    @{
                        var offerIndex = 0;
                    }
                    <div class="offer-controls">
                        <ul>
                            @foreach (var item in Model.OfferSlider)
                            {
                                <li data-index="@offerIndex">
                                    <a href="@item.Link">
                                        <p>@item.Title</p>
                                        <span>@item.SubTitle</span>
                                    </a>
                                </li>

                                offerIndex++;
                            }
                        </ul>
                    </div>
                    <div id="OfferSlider" class="owl-carousel owl-theme">
                        @foreach (var item in Model.OfferSlider)
                        {
                            <div class="item">
                                @if (!String.IsNullOrWhiteSpace(item.Link) && item.Link != "#")
                                {
                                    <a href="@item.Link">
                                        <img src="@(UrlProvider.GetOfferImage(item.Filename, StaticValues.SliderImageSize))" alt="@item.Title" />
                                    </a>
                                }
                                else
                                {
                                    <img src="@(UrlProvider.GetOfferImage(item.Filename, StaticValues.SliderImageSize))" alt="@item.Title" />
                                }
                            </div>
                        }
                    </div>
                </div>
                <div class="banner-box">
                    @if (bnr12 != null)
                    {
                        <a href="@UrlProvider.GetBannerUrl(bnr12.Key)" target="_blank" class="banner-@bnr12.ID">
                            <img src="@(UrlProvider.GetBannerImage(bnr12.Filename))" alt="@bnr12.Title" title="@bnr12.Title">
                        </a>
                    }
                </div>
            </div>
            @foreach (var item in Model.HomeBoxes.Where(a => a.HomeBoxType == HomeBoxType.Group))
            {
                <div class="row">
                    <div class="homeitems-box">
                        <section>
                            <div class="box-header box-header-01">
                                <h1>
                                    <i class="fa fa-shopping-cart"></i>
                                    @item.Title
                                </h1>
                            </div>
                            <div class="box-content">
                                <ul class="homeitems-list">
                                    @foreach (var homeItem in item.Items)
                                    {
                                        <li>
                                            <a href="@homeItem.Link">
                                                <img src="@(StaticPaths.HomeBoxItems + homeItem.Filename)" alt="@(homeItem.Title + " - " + homeItem.SubTitle)" />
                                                <h2>@homeItem.Title</h2>
                                                <h3>@homeItem.SubTitle</h3>
                                            </a>
                                        </li>
                                    }
                                </ul>
                                <div class="clear"></div>
                            </div>
                        </section>
                    </div>
                </div>
            }
            <div class="row">
                <div class="home-banners-box">
                    <div class="banner-top">
                        <div class="banner banner-large">

                            @*<a href="/Products/Mobile-Phones/Samsung/1"></a>*@
                        </div>
                        <div class="banner banner-mini-1">

                            @*   <a href="/Products/Mobile-Phones/Apple/1"></a>*@
                        </div>
                        <div class="banner banner-mini-2">

                            @* <a href="/Products/Mobile-Phones/Apple/1"></a>*@
                        </div>
                    </div>

                    <div class="banner-middle">
                        <div class="banner banner-mini-1">
                            @*          <a href="/Products/Mobile-Phones/Huawei/1"></a>*@
                        </div>
                        <div class="banner banner-large">
                            @*<a href="/Products/Mobile-Phones/BlackBerry/1"></a>*@
                        </div>
                        <div class="banner banner-mini-2">
                            @*<a href="/Products/Mobile-Phones/Apple/1"></a>*@
                        </div>
                    </div>

                    <div class="banner-bottom">
                        <div class="banner banner-mini-1">
                            @*<a href="/Products/Mobile-Phones/Nokia/1"></a>*@
                        </div>
                        <div class="banner banner-mini-2">
                            @*<a href="/Products/Mobile-Phones/LG/1"></a>*@
                        </div>
                        <div class="banner banner-large">
                            @*<a href="/Products/Mobile-Phones/SONY/1"></a>*@
                        </div>
                    </div>
                </div>
            </div>
            @*<div class="row">
                    <div class="products-box">
                        <section>
                            <div class="box-header box-header-01">
                                <h1>
                                    <i class="fa fa-shopping-cart"></i>
                                    موبایل های ما
                                </h1>
                                <div class="box-control">
                                    <a href="#" class="btn-next">
                                        <i class="fa fa-angle-left"></i>
                                    </a>
                                    <a href="#" class="btn-prev">
                                        <i class="fa fa-angle-right"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="box-content">
                                <ul class="owl-carousel products-list">
                                    @foreach (var product in Model.RandomProducts)
                                    {
                                        @Html.Partial("_ProductItem", product)
                                    }
                                </ul>
                            </div>
                        </section>
                    </div>
                </div>*@
            @foreach (var item in Model.HomeBoxes.Where(a => a.HomeBoxType == HomeBoxType.Horizontal))
            {
                <div class="row" style="visibility:hidden;display:none">
                    <div class="products-box">
                        <section>
                            <div class="box-header box-header-01">
                                <h1>
                                    <i class="fa fa-shopping-cart"></i>
                                    @item.Title
                                </h1>
                                <div class="box-control">
                                    <a href="#" class="btn-next">
                                        <i class="fa fa-angle-left"></i>
                                    </a>
                                    <a href="#" class="btn-prev">
                                        <i class="fa fa-angle-right"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="box-content">
                                <ul class="owl-carousel products-list">
                                    @foreach (var product in item.Products)
                                    {
                                        @Html.Partial("_ProductItem", product)
                                    }
                                </ul>
                            </div>
                        </section>
                    </div>
                </div>
                if (othersBanners.Count > bannerOrder)
                {
                    var bnr = othersBanners[bannerOrder];
                    <div class="row baner-wide-box">
                        <a href="@UrlProvider.GetBannerUrl(bnr.Key)" target="_blank">
                            <img src="@(UrlProvider.GetBannerImage(bnr.Filename))" alt="@bnr.Title" title="@bnr.Title">
                        </a>
                    </div>
                    bannerOrder++;
                }
            }
        </div>
        <div class="bottom-column" style="visibility:hidden;display:none">
            <div class="row">
                <div class="ads-col4">
                    <ul>
                        @if (bnr4 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr4.Key)" target="_blank">
                                    <img src="@(UrlProvider.GetBannerImage(bnr4.Filename))" alt="@bnr4.Title" title="@bnr4.Title">
                                </a>
                            </li>
                        }
                        @if (bnr5 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr5.Key)" target="_blank">
                                    <img src="@(UrlProvider.GetBannerImage(bnr5.Filename))" alt="@bnr5.Title" title="@bnr5.Title">
                                </a>
                            </li>
                        }
                        @if (bnr6 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr6.Key)" target="_blank">
                                    <img src="@(UrlProvider.GetBannerImage(bnr6.Filename))" alt="@bnr6.Title" title="@bnr6.Title">
                                </a>
                            </li>
                        }
                        @if (bnr7 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr7.Key)" target="_blank">
                                    <img src="@(UrlProvider.GetBannerImage(bnr7.Filename))" alt="@bnr7.Title" title="@bnr7.Title">
                                </a>
                            </li>
                        }
                    </ul>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="row">
                <div class="ads-col3">
                    <ul>
                        @if (bnr8 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr8.Key)" target="_blank">
                                    <span class="title">@bnr8.Title</span>
                                    <img src="@(UrlProvider.GetBannerImage(bnr8.Filename))" alt="@bnr8.Title" title="@bnr8.Title">
                                </a>
                            </li>
                        }
                        @if (bnr9 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr9.Key)" target="_blank">
                                    <span class="title">@bnr9.Title</span>
                                    <img src="@(UrlProvider.GetBannerImage(bnr9.Filename))" alt="@bnr9.Title" title="@bnr9.Title">
                                </a>
                            </li>
                        }
                        @if (bnr10 != null)
                        {
                            <li>
                                <a href="@UrlProvider.GetBannerUrl(bnr10.Key)" target="_blank">
                                    <span class="title">@bnr10.Title</span>
                                    <img src="@(UrlProvider.GetBannerImage(bnr10.Filename))" alt="@bnr10.Title" title="@bnr10.Title">
                                </a>
                            </li>
                        }
                    </ul>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="row">
                <div class="brands-box">
                    <div class="box-header">
                        <div class="box-control">
                            <a href="#" class="btn-next">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a href="#" class="btn-prev">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </div>
                    </div>
                    <div class="box-content">
                        <ul id="Brands" class="brands-list owl-carousel">
                            @foreach (var item in Model.Producers)
                            {
                                <li>
                                    <a href="@UrlProvider.GetProducerUrl(item.TitleEn,item.Title,item.ID)" title="@item.Title">
                                        <img src="@(UrlProvider.GetProducerImage(item.Filename, StaticValues.ProducerImageSize))" alt="@item.Title" title="@item.Title" />
                                    </a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
</div>

@section Styles{
    <link href="/css/home.css?ver=@version" rel="stylesheet" />
}

@section Scripts{
    <script src="/js/home.min.js?ver=@version"></script>
}

